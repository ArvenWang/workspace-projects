# é£ä¹¦æœºå™¨äººæƒé™é…ç½®æ¸…å•

> åœ¨é£ä¹¦å¼€æ”¾å¹³å°ã€Œæƒé™ç®¡ç†ã€ä¸­å¼€é€šä»¥ä¸‹æƒé™

## ğŸ“± æ¶ˆæ¯ä¸ç¾¤ç»„æƒé™ï¼ˆå¿…é¡»ï¼‰

| æƒé™ | æƒé™åç§° | è¯´æ˜ |
|------|----------|------|
| âœ… | `im:message:send` | å‘é€æ¶ˆæ¯ |
| âœ… | `im:message:send:as_bot` | ä»¥æœºå™¨äººèº«ä»½å‘é€æ¶ˆæ¯ |
| âœ… | `im:message.p2p_msg` | è¯»å–ç”¨æˆ·å•èŠæ¶ˆæ¯ |
| âœ… | `im:message.group_msg` | è¯»å–ç”¨æˆ·ç¾¤èŠæ¶ˆæ¯ |
| âœ… | `im:message.resource` | è·å–æ¶ˆæ¯èµ„æºï¼ˆå›¾ç‰‡ã€è¯­éŸ³ã€æ–‡ä»¶ï¼‰âš ï¸ å…³é”® |
| âœ… | `im:message:receive` | æ¥æ”¶æ¶ˆæ¯äº‹ä»¶ |
| âœ… | `im:chat:readonly` | è·å–ç¾¤ç»„ä¿¡æ¯ |
| âœ… | `im:chat` | åˆ›å»ºå’Œç®¡ç†ç¾¤ç»„ |

## ğŸ‘¤ ç”¨æˆ·æƒé™

| æƒé™ | æƒé™åç§° | è¯´æ˜ |
|------|----------|------|
| âœ… | `contact:user.department:readonly` | è·å–ç”¨æˆ·éƒ¨é—¨ä¿¡æ¯ |
| âœ… | `contact:user.employee_id:readonly` | è·å–ç”¨æˆ·å‘˜å·¥ID |
| âœ… | `contact:user.base:readonly` | è·å–ç”¨æˆ·åŸºæœ¬ä¿¡æ¯ |

## ğŸ“„ é£ä¹¦æ–‡æ¡£æƒé™ï¼ˆå¦‚éœ€æ–‡æ¡£åŠŸèƒ½ï¼‰

| æƒé™ | æƒé™åç§° | è¯´æ˜ |
|------|----------|------|
| âœ… | `docx:document` | åˆ›å»ºå’Œç®¡ç†æ–‡æ¡£ |
| âœ… | `docx:document:readonly` | è¯»å–æ–‡æ¡£ |
| âœ… | `docx:document:write` | ç¼–è¾‘æ–‡æ¡£ |
| âœ… | `docx:document:delete` | åˆ é™¤æ–‡æ¡£ |

## ğŸ“š é£ä¹¦çŸ¥è¯†åº“æƒé™

| æƒé™ | æƒé™åç§° | è¯´æ˜ |
|------|----------|------|
| âœ… | `wiki:wiki` | åˆ›å»ºå’Œç®¡ç†çŸ¥è¯†åº“ |
| âœ… | `wiki:wiki:readonly` | è¯»å–çŸ¥è¯†åº“ |
| âœ… | `wiki:wiki:write` | ç¼–è¾‘çŸ¥è¯†åº“ |

## â˜ï¸ é£ä¹¦äº‘ç›˜æƒé™

| æƒé™ | æƒé™åç§° | è¯´æ˜ |
|------|----------|------|
| âœ… | `drive:drive` | äº‘ç›˜æ“ä½œ |
| âœ… | `drive:drive:readonly` | è¯»å–äº‘ç›˜ |
| âœ… | `drive:drive:write` | å†™å…¥äº‘ç›˜ |
| âœ… | `drive:file` | æ–‡ä»¶æ“ä½œ |
| âœ… | `drive:file:readonly` | è¯»å–æ–‡ä»¶ |
| âœ… | `drive:file:write` | å†™å…¥æ–‡ä»¶ |

---

## ğŸ”” äº‹ä»¶è®¢é˜…é…ç½®

åœ¨ã€Œäº‹ä»¶è®¢é˜…ã€ä¸­æ·»åŠ ä»¥ä¸‹äº‹ä»¶ï¼š

### æ¶ˆæ¯äº‹ä»¶
- [x] `im.message.receive_v1` - æ¥æ”¶æ¶ˆæ¯ï¼ˆâš ï¸ å¿…é¡»ï¼‰
- [x] `im.message.message_read_v1` - æ¶ˆæ¯å·²è¯»
- [x] `im.message.message_deleted_v1` - æ¶ˆæ¯è¢«åˆ é™¤

### ç¾¤ç»„äº‹ä»¶
- [x] `im.chat.disbanded_v1` - ç¾¤ç»„è§£æ•£
- [x] `im.chat.updated_v1` - ç¾¤ç»„ä¿¡æ¯æ›´æ–°
- [x] `im.chat.member.bot.added_v1` - æœºå™¨äººè¢«æ·»åŠ åˆ°ç¾¤ç»„
- [x] `im.chat.member.bot.deleted_v1` - æœºå™¨äººè¢«ç§»å‡ºç¾¤ç»„

---

## ğŸ” åŠ å¯†é…ç½®ï¼ˆæ¨èï¼‰

å¦‚æœä½¿ç”¨åŠ å¯†ï¼Œéœ€è¦é…ç½®ï¼š

1. **Encrypt Key** - ç”¨äºè§£å¯†æ¶ˆæ¯
2. **Verification Token** - ç”¨äºéªŒè¯è¯·æ±‚æ¥æº

---

## âš ï¸ å¸¸è§é—®é¢˜

### å›¾ç‰‡/è¯­éŸ³æ— æ³•æ¥æ”¶
**åŸå› **: ç¼ºå°‘ `im:message.resource` æƒé™
**è§£å†³**: åœ¨æƒé™ç®¡ç†ä¸­æ·»åŠ è¯¥æƒé™ï¼Œå¹¶é‡æ–°å‘å¸ƒåº”ç”¨

### æ— æ³•å‘é€æ¶ˆæ¯
**åŸå› **: ç¼ºå°‘ `im:message:send` æˆ– `im:message:send:as_bot` æƒé™
**è§£å†³**: æ·»åŠ ä¸Šè¿°æƒé™

### æ”¶ä¸åˆ°ä»»ä½•æ¶ˆæ¯
**åŸå› **: äº‹ä»¶è®¢é˜…æœªé…ç½®æˆ– Encrypt Key ä¸åŒ¹é…
**è§£å†³**: 
1. ç¡®ä¿å¼€å¯äº‹ä»¶è®¢é˜…
2. æ·»åŠ  `im.message.receive_v1` äº‹ä»¶
3. æ£€æŸ¥åŠ å¯†é…ç½®

---

## ğŸ“‹ ä¸€é”®å¤åˆ¶æƒé™åˆ—è¡¨

```
im:message:send
im:message:send:as_bot
im:message.p2p_msg
im:message.group_msg
im:message.resource
im:message:receive
im:chat:readonly
im:chat
contact:user.department:readonly
contact:user.employee_id:readonly
contact:user.base:readonly
docx:document
docx:document:readonly
docx:document:write
wiki:wiki
wiki:wiki:readonly
drive:drive
drive:drive:readonly
drive:file
drive:file:readonly
```

---

**é…ç½®å®Œæˆåè®°å¾—ï¼š**
1. ç‚¹å‡»ã€Œæ‰¹é‡å¼€é€šã€
2. åˆ›å»ºæ–°ç‰ˆæœ¬
3. ç”³è¯·å‘å¸ƒï¼ˆæˆ–ç®¡ç†å‘˜ç¡®è®¤å¯ç”¨ï¼‰
